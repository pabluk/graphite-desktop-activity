<html>
  <head>
    <title>Desktop Activity</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript">
    var commonOptions = {
    	lineWidth: 2,
	areaAlpha: 0.5,
	areaMode: "all",
	drawNullAsZero: true,
	lineMode: "connected",
	height: 300,
    }

    var metrics = {
    	"zenbook_1": {
		target: "derivative(desktop.zenbook.*)",
		title: "Desktop Activity (zenbook)",
		from: "-2h",
	},
    	"zenbook_2": {
		target: "derivative(desktop.zenbook.*)",
		title: "Desktop Activity (zenbook)",
		from: "-12h",
	},
    }
    
    function generateURL(metric) {
	var width = ($(window).innerWidth()/2) - 30;
	var baseURL = "http://graphite.seminar.io:8080/render.php?";

    	graph = $.extend(metrics[metric], commonOptions);
	graph.width = width;

	params = $.param(graph);
    	return baseURL + params;
    }

    //console.log(generateURL("graph2"));
    </script>
    <style>
    .cell {
    	display: inline;
    }
    </style>
  </head>

  <body bgcolor="black">
    <div>
      <div id="graph1" class="cell"></div>
      <div id="graph2" class="cell"></div>
    </div>
    <div>
      <div id="graph3" class="cell"></div>
      <div id="graph4" class="cell"></div>
    </div>
    <script type="text/javascript">
    var img1 = $("<img>");
    img1.attr("src", generateURL("zenbook_1"));
    img1.appendTo("#graph1");

    var img1 = $("<img>");
    img1.attr("src", generateURL("zenbook_2"));
    img1.appendTo("#graph2");

    /*
    var img1 = $("<img>");
    img1.attr("src", generateURL("z930_1"));
    img1.appendTo("#graph3");

    var img1 = $("<img>");
    img1.attr("src", generateURL("z930_2"));
    img1.appendTo("#graph4");
    */

    </script>
  </body>
</html>
